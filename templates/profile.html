{% extends "base.html" %} {% block content %}

<section class="section-1-profile">
  <!-- Section 1 / Page header -->
  <div class="container">
    <h1 class="heading">Profile</h1>
  </div>
</section>
<section class="section-2-profile">
  <!-- Section 2 / User details -->
  <div class="container">
    <div class="main-profile">
      <div class="profile-content">
        <h2 class="username para">Hi {{user_data.username}}</h2>
        <img src="../static/images/profilepicture.png" alt="" />
        <button
          class="main-btn deletebtnprofile"
          onclick="confirmDeleteProfile()"
          type="button"
        >
          delete profile
        </button>
        <form id="logoutForm" action="{{ url_for('logout') }}" method="post">
          <button
            class="main-btn logout-btn"
            type="submit"
            value="Logout"
            id="logoutBtn"
          >
            Logout
          </button>
        </form>
      </div>
      <div class="profile_setting">
        <form class="form" method="post" action="{{ url_for('profile') }} ">
          <label for="username" class="profile-label">Username:</label>
          <input
            type="text"
            id="username"
            name="username"
            required
            value="{{user_data.username}}"
          />
          <label for="email" class="profile-label">Email:</label>
          <input
            type="email"
            id="email-profile"
            value="{{user_data.email}}"
            name="emailprofile"
            required
          />

          <label for="password" class="profile-label">Password:</label>
          <input
            type="password"
            minlength="6"
            maxlength="15"
            id="passwordprofile password"
            name="passwordprofile"
            required
          />

          <label for="confirm_password" class="profile-label"
            >Confirm Password:</label
          >
          <input
            type="password"
            minlength="6"
            maxlength="15"
            id="confirm_passwordprofile confirm_password"
            name="confirm_passwordprofile"
            required
          />

          <div class="profile-btns">
            <button
              type="submit"
              name="update_profile"
              value="update_profile"
              class="main-btn submitbtnprofile"
            >
              Update Profile
            </button>

            <!-- Hidden input field to indicate profile deletion -->
            <!-- <input type="hidden" name="delete_profile" value="1" /> -->
          </div>
        </form>
      </div>
    </div>
  </div>
</section>
<section class="section-3-profile">
  <div class="container">
    <div class="main-grid profile-grid">
      {% for cart_item in cart_items_from_db %}
      <div class="item">
        <img
          class="productimg"
          src="{{ cart_item.imgSrc }}"
          alt="{{ cart_item.name }}"
        />
        <h2 class="small-heading productname">{{ cart_item.name }}</h2>
        <p class="description_para">
          Quantity :
          <input
            type="number"
            min="1"
            max="10"
            aria-label="Update quantity"
            title="Update quantity"
            class="profile-item-quantity"
            value="{{ cart_item.quantity }}"
          />
          <button class="update-btn-profile">Update</button>
          <i
            class="fa-solid fa-trash removedatabasebtn"
            aria-label="Removing-button"
            title="Remove item"
          ></i>
        </p>
        <p class="para productprice">Price : {{ cart_item.price }}</p>
      </div>
      {% endfor %}
    </div>
  </div>
</section>

{% endblock %}
